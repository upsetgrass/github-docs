<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>github_docs_example</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> github docsç»“æ„</a></li><li class="chapter-item expanded "><a href="book-toml.html"><strong aria-hidden="true">2.</strong> book.toml</a></li><li class="chapter-item expanded "><a href="src.html"><strong aria-hidden="true">3.</strong> srcæºæ–‡ä»¶</a></li><li class="chapter-item expanded "><a href="mdbook.html"><strong aria-hidden="true">4.</strong> mdbookæŒ‡ä»¤</a></li><li class="chapter-item expanded "><a href="action.html"><strong aria-hidden="true">5.</strong> github_action</a></li><li class="chapter-item expanded "><a href="git.html"><strong aria-hidden="true">6.</strong> githubæ“ä½œ</a></li><li class="chapter-item expanded "><a href="pic.html"><strong aria-hidden="true">7.</strong> æ’å›¾</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">github_docs_example</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        <a href="https://github/upsetgrass/github-docs/" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#é¡¹ç›®æ–‡æ¡£ç»“æ„" id="é¡¹ç›®æ–‡æ¡£ç»“æ„">é¡¹ç›®æ–‡æ¡£ç»“æ„</a></h1>
<pre><code>â”œâ”€â”€.github/workflows/dbook.yml
â”œâ”€â”€ book.toml
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ SUMMARY.md  # ç›®å½•ç»“æ„å®šä¹‰
â”‚   â”œâ”€â”€ index.md
â”‚   â”œâ”€â”€ chapter_1.md
â”‚   â”œâ”€â”€ chapter_2.md
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ example.png
â”‚   â”œâ”€â”€ theme/
â”‚   â”‚   â”œâ”€â”€ custom.css
â”œâ”€â”€ book/
</code></pre>
<p>ç®€è¦è¯´æ˜ï¼š</p>
<p>1ã€book.tomlä¸­æ˜¯ç”¨äºè®¾ç½®æ–‡æ¡£/ä¹¦ç±ã€è¾“å‡ºå½¢å¼çš„ç›¸å…³è®¾ç½®</p>
<p>2ã€srcå­ç›®å½•ä¸‹å­˜æ”¾æºæ–‡ä»¶ï¼ŒåŒ…æ‹¬æºæ–‡æ¡£ï¼ˆ.mdï¼‰ï¼Œé™æ€èµ„æºï¼ˆimagesç›®å½•ä¸‹ï¼‰ã€æ¨¡æ¿æ–‡ä»¶ï¼ˆthemeç›®å½•ä¸‹ï¼‰ï¼Œå…¶ä¸­å¿…é¡»æœ‰ä¸€ä¸ªSUMMARY.mdæ–‡æ¡£ï¼Œç”¨äºå­˜å‚¨æ–‡æ¡£çš„ç›®å½•ç»“æ„ï¼Œå¿…é¡»æœ‰ä¸€ä¸ªindex.mdï¼Œç”¨äºæŒ‡å®šè¿›å…¥é¡µ</p>
<p>3ã€.github/workflows/dbook.ymlç”¨äºgithubè¿›è¡Œactionè‡ªåŠ¨åŒ–è¿›ç¨‹ï¼Œç”¨äºæ£€æŸ¥ã€è§£å†³æ‰“å¼€ç”Ÿæˆçš„htmlæ–‡æ¡£æ—¶çš„ä¸€äº›é—®é¢˜</p>
<p>4ã€bookæ˜¯æ–‡æ¡£ç”Ÿæˆçš„ä¸€äº›ç»“æœä¿¡æ¯</p>
<p>5ã€æ•´ä¸ªé¡¹ç›®åˆ©ç”¨mdbookè¿›è¡Œï¼Œmdbookçš„ä¸‹è½½éœ€è¦Rustç¼–è¯‘ç¯å¢ƒï¼Œæµç¨‹å¦‚ä¸‹<br />
<code>curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh</code><br />
è¿™ä¸€æ­¥æ—¶ä¼šè¯¢é—®ä¸‹è½½æ–¹å¼ä¸€èˆ¬é€‰æ‹©-ç«‹å³å®‰è£…Rustã€Cargo-ç›´æ¥ç‚¹Enter<br />
æ­¤æ—¶rustä¼šå®‰è£…åˆ°~/.cargo/bin/ æ­¤æ—¶è¿˜éœ€è¦æ‰‹åŠ¨åŠ å…¥åˆ°PATH<br />
<code>export PATH=&quot;$HOME/.cargo/bin:$PATH&quot; &gt;&gt; ~/.bashrc </code><br />
<code>source ~/.bashrc</code><br />
æ­¤æ—¶å°±å¯ä»¥ç”¨cargoå·¥å…·å®‰è£…mdbookï¼Œéœ€è¦æ³¨æ„ï¼ŒcargoæŒ‡ä»¤æ˜¯ç”¨æˆ·çº§ç®¡ç†ï¼Œä¸è¦ç”¨sudo<br />
<code>cargo install mdbook</code><br />
<code>cargo install mdbook-pdf</code>  </p>
<h1><a class="header" href="#booktoml" id="booktoml">book.toml</a></h1>
<pre><code class="language-toml">[book]
authors = [&quot;upsetgrass&quot;]
language = &quot;zh&quot;
multilingual = false
src = &quot;docs/&quot;
title = &quot;note_test&quot;

[output.html]
git-repository-url = &quot;https://upsetgrass.github.io/note/&quot;
mathjax-support = true

[output.pdf]
optional = true
</code></pre>
<p>è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œæœ‰ä¸‰ä¸ªéƒ¨åˆ†bookã€output.htmlã€output.pdf</p>
<p>[book] - ç”¨äºè®¾ç½®ä¹¦ç±ï¼Œä½œè€…æ˜¯upsetgrassï¼Œè¯¥æ–‡æ¡£çš„è¯­è¨€æ˜¯ä¸­æ–‡ï¼Œä¸æ”¯æŒå¤šè¯­è¨€ï¼Œsrcæºæ–‡ä»¶ç›®å½•ï¼Œæ‰€æœ‰çš„markdownç« èŠ‚éƒ½æ”¾åœ¨docsç›®å½•ä¸‹ï¼Œä¹¦ç±çš„æ ‡é¢˜æ˜¯note_testï¼Œæ˜¾ç¤ºåœ¨index.htmlé¡µé¢çš„ &lt;\title&gt; æ ‡ç­¾ä¸­</p>
<p>[output.html] - é…ç½® mdBook ç”Ÿæˆ HTML æ ¼å¼æ–‡æ¡£çš„å‚æ•°ï¼Œgit-repository-urlï¼Œä¼šåœ¨ç”Ÿæˆçš„ HTML æ–‡æ¡£çš„å³ä¸Šè§’æ·»åŠ ä¸€ä¸ªæŒ‡å‘è¯¥ Git ä»“åº“çš„é“¾æ¥ï¼Œmathjax-supportç”¨äºæ˜¯å¦å¯ç”¨MathJaxå…¬å¼æ”¯æŒï¼ŒMakrdownä¸­ä½¿ç”¨LateXæ•°å­¦å…¬å¼</p>
<p>å¯¹äºæ¯ä¸€ä¸ªmdç”Ÿæˆçš„htmlä¼šç”Ÿæˆåœ¨æœ¬åœ°çš„bookè·¯å¾„ä¸‹</p>
<p><img src="./images/1.png" alt="" /></p>
<p>[output.pdf] - æ§åˆ¶pdfçš„è¾“å‡ºè¡Œä¸ºï¼Œå¦‚æœ pdf ç”Ÿæˆå™¨ï¼ˆmdbook-pdfï¼‰ä¸å¯ç”¨ï¼Œè·³è¿‡ pdf ç”Ÿæˆï¼Œè€Œä¸ä¼šæŠ¥é”™ï¼Œmdbook-pdfç”Ÿæˆçš„pdfä¼šæ”¾åœ¨book/outputè·¯å¾„ä¸‹</p>
<h1><a class="header" href="#srcæºæ–‡ä»¶" id="srcæºæ–‡ä»¶">srcæºæ–‡ä»¶</a></h1>
<p>SUMMARY.mdæ˜¯ä¹¦ç±çš„ç›®å½•</p>
<pre><code class="language-markdown"># Summary

# ChiselAIA

* [ğŸ˜ºAIA](./index.md)
* [ğŸ“©IMSIC](./imsic.md)
* [ğŸ§¶APLIC](./aplic.md)
* [ğŸ§­é›†æˆæŒ‡å—ï¼ˆIntegration Guideï¼‰](./integration.md)
</code></pre>
<p>mdbookä¼šåˆ†æSUMMARY.mdä¸­æŒ‡å‘çš„.mdï¼Œåªæœ‰åŠ åœ¨äº†SUMMARY.mdä¸­çš„ç« èŠ‚ï¼Œæ‰ä¼šç”Ÿæˆå¯¹åº”çš„htmlæœ€ç»ˆåœ¨ä¹¦ç±ä¸­æ‰èƒ½çœ‹åˆ°å¯¹åº”çš„ç« èŠ‚ï¼Œä¸‹å›¾æ¡†å‡ºéƒ¨åˆ†å°±æ˜¯SUMMARY.mdçš„å†…å®¹å±•ç¤ºï¼Œå³ä¾§å°±æ˜¯index.mdçš„å†…å®¹ï¼Œindex.mdä¼šä½œä¸ºè¿›å…¥é¡µï¼ˆåˆå§‹é¡µï¼‰<br />
<img src="./images/2.png" alt="" /><br />
å¯¹äº.mdä¸­éœ€è¦ä½¿ç”¨åˆ°çš„å›¾ç‰‡ï¼Œéœ€è¦å­˜æ”¾åˆ°src/imagesä¸‹ï¼Œå¹¶åœ¨.mdä¸­ä»¥![](./images/XXX.svg)çš„å½¢å¼å¼•ç”¨è¿›æ¥<br />
psï¼š[]() - è¶…é“¾æ¥ï¼Œ![]() - å›¾ç‰‡æ’å…¥</p>
<h1><a class="header" href="#mdbookæŒ‡ä»¤" id="mdbookæŒ‡ä»¤">mdbookæŒ‡ä»¤</a></h1>
<p><code>mdbook init</code>ï¼šå¯¹mdbookæ‰€éœ€è¦çš„book.toml  book/ .gitignore src/ SUMMARY.mdè¿›è¡Œç®€å•è®¾ç½®ï¼Œä¹Ÿå¯ä»¥è‡ªè¡Œmkdir touch</p>
<p><code>mdbook build</code>ï¼šè¯»å–book.tomlé…ç½®æ–‡ä»¶ï¼Œè§£æ src/SUMMARY.md ç”Ÿæˆç›®å½•ç»“æ„ï¼›å°† src/ ç›®å½•ä¸­çš„ .md æ–‡ä»¶è½¬æ¢ä¸º HTMLï¼ˆé»˜è®¤å­˜æ”¾åœ¨ book/ï¼‰ï¼›å¤åˆ¶ theme/ã€static/ ç›®å½•çš„å†…å®¹åˆ° book/ã€‚</p>
<p><code>mdbook serve -p 3000</code>ï¼šè¿è¡Œä¸€ä¸ªæœ¬åœ°çš„httpæœåŠ¡å™¨ï¼Œé»˜è®¤ä¸ºhttp://127.0.0.1:3000ï¼Œ-på¯ä»¥æŒ‡å®šä¸º3000è¿˜æ˜¯4000...ï¼Œç”¨äºæœ¬åœ°å±•ç¤ºç”Ÿæˆçš„ä¹¦ç±  </p>
<h1><a class="header" href="#github_action" id="github_action">github_action</a></h1>
<p>workflowsä¸­çš„ymlæ˜¯è‡ªåŠ¨æ„å»ºå·¥å…·ï¼Œå’Œmakefile millç­‰å·¥å…·ç±»ä¼¼ï¼Œåªä¸è¿‡worflowsæ˜¯githubä¸­actionç»„ä»¶è‡ªåŠ¨æ‰§è¡Œçš„ï¼Œè¿™ä¸€éƒ¨åˆ†ç”¨äºåˆ›å»ºåˆ†æ”¯gh-pagesï¼Œå•ç‹¬å­˜å‚¨mdbook buildæ„å»ºå‡ºæ¥çš„é‚£äº›htmlè¿˜æœ‰ä¸€äº›ä¾èµ–æ–‡ä»¶ï¼Œä»¥ä¿æŒå…¶ä»–åˆ†æ”¯çš„æ´å‡€ï¼Œå¹¶è®¾å®šè‡ªåŠ¨æ›´æ–°æ–‡æ¡£çš„æ¡ä»¶ï¼Œå…·ä½“ç¤ºä¾‹å¦‚ä¸‹ï¼ŒåŸºæœ¬å¯ä»¥ç›´æ¥ä½¿ç”¨</p>
<pre><code class="language-yaml">name: deploy-github-pages  # å®šä¹‰workflowæˆ–æ­¥éª¤åç§°
on:                        # on:è§¦å‘æ¡ä»¶
  push:
    branches:
      - main               # å½“mainåˆ†æ”¯æœ‰æ–°çš„pushï¼Œè§¦å‘è¯¥github action
jobs:
  deploy-github-pages:     # ä½¿ç”¨æœ€æ–°çš„Ubuntuä½œä¸ºæ‰§è¡Œç¯å¢ƒ
    runs-on: ubuntu-latest # è¿è¡Œç¯å¢ƒ
    permissions:           # è®¾ç½®æƒé™ï¼Œä½¿å¾—actionå¯ä»¥å‘gh-pagesåˆ†æ”¯å†™å…¥
      contents: write
    steps:                 # ä»¥ä¸‹éƒ½æ˜¯å„ä¸ªä»»åŠ¡
      - name: Checkout repository         # æ­¥éª¤åç§°
        uses: actions/checkout@v4  # uses-ä½¿ç”¨github actionä¸­å†™å¥½çš„è„šæœ¬ï¼Œè¿™é‡Œæ˜¯åœ¨æ‹‰å–æˆ‘çš„ä»£ç 

      - name: Setup mdBook
        if: ${{ github.ref == 'refs/heads/main' }}
        uses: peaceiris/actions-mdbook@v1.2.0       # ä¸»åˆ†æ”¯ä¸Šå®‰è£…mdbook
        with:
          mdbook-version: '0.4.5'

      - name: Build site
        if: ${{ github.ref == 'refs/heads/main' }}
        working-directory: .
        run: mdbook build                           # ä¸»åˆ†æ”¯ä¸Šè¿è¡Œmdbook buildæŒ‡ä»¤

      - name: Move HTML files to root 
        run: |                                      # run: | è¿è¡Œå¤šè¡Œshellè„šæœ¬
          mv ./book/html/* ./book/
          rm -r ./book/html

      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3  # ä½¿ç”¨è¯¥actionsç”¨äºè‡ªåŠ¨éƒ¨ç½²github pages
        if: ${{ github.ref == 'refs/heads/main' }}
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./book               # æŒ‡ä»¤ä¸»åˆ†æ”¯çš„./bookå†…å®¹ä½œä¸ºgh-pagesåˆ†æ”¯çš„å†…å®¹
          force_orphan: true                   # åˆ é™¤gh-pagesçš„å†å²è®°å½•  ï¼Œåªä¿ç•™æœ€æ–°ç‰ˆæœ¬
</code></pre>
<p>æœ¬è´¨ï¼šworkflowsä¸­çš„æ“ä½œå°±æ˜¯githubå¸®æˆ‘ä»¬åœ¨æŸç§è§¦å‘ä¸‹ï¼Œè‡ªåŠ¨æ‰§è¡ŒæŸäº›æŒ‡ä»¤ã€‚æ¯”å¦‚ä¸Šé¢å°±æ˜¯pushåˆ°ä¸»åˆ†æ”¯æ—¶ï¼Œæ‰§è¡Œåé¢çš„æ“ä½œï¼Œåé¢çš„æ“ä½œå°±æ˜¯githubæŠŠæˆ‘ä»¬çš„ä¸»åˆ†æ”¯çš„ä»£ç pullä¸‹æ¥ï¼Œç„¶åä¸‹è½½mdbookæ‰§è¡Œmdbook buildï¼Œç„¶ååˆ›å»ºgh-pagesåˆ†æ”¯ï¼Œå°†ç”Ÿæˆçš„/bookæ¨é€åˆ°æˆ‘çš„ä»“åº“çš„gh-pagesåˆ†æ”¯ä¸Šã€‚  </p>
<h1><a class="header" href="#githubæ“ä½œ" id="githubæ“ä½œ">githubæ“ä½œ</a></h1>
<p>éœ€è¦åœ¨githubä»“åº“çš„settingsé‡Œé¢çš„Pagesé¡¹å»ä¿®æ”¹è¿™äº›å†…å®¹</p>
<p><img src="./images/3.png" alt="" /></p>
<p>è¿™é‡Œyour site is live at https://upsetgrass.github.io/note/ å°±æ˜¯githubç»™æˆ‘ä»¬çš„æ–‡æ¡£åˆ†é…çš„åœ°å€</p>
<p>æ ¼å¼ä¸ºï¼šhttps://&lt;ç”¨æˆ·å/ç»„ç»‡å&gt;.github.io/&lt;ä»“åº“å&gt;</p>
<p>æˆ‘ä»¬åœ¨Readme.mdä¸­å°±å¯ä»¥ä»¥  [æ–‡æ¡£](https://upsetgrass.github.io/note/)    è¿™ç§å½¢å¼è¶…é“¾æ¥åˆ°æˆ‘ä»¬å†™çš„ä¹¦ç±</p>
<p>ä¸‹é¢Branchä¸­è®¾ç½®gh-pages/rootçš„å‰ææ˜¯éœ€è¦å…ˆæŠŠ.github/workflows/mdbook.yml gitåˆ°è¯¥ä»“åº“ï¼Œæ­¤æ—¶githubå°±ä¼šè‡ªåŠ¨å‡ºç°gh-pagesåˆ†æ”¯ï¼Œç”¨äºå¤„ç†Github Pagesï¼Œä¹Ÿå°±æ˜¯ä¼šæŠŠè¿™ä¸ªåˆ†æ”¯ä½œä¸ºä¹¦ç±çš„æºæ–‡ä»¶</p>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬ä¹‹å‰åœ¨.github/workflows/mdbookçš„ç”Ÿæˆ/bookçš„æ“ä½œæ˜¯åœ¨ä¸»åˆ†æ”¯ï¼Œä½†æ˜¯ç”Ÿæˆçš„ç»“æœæ”¾åœ¨äº†gh-pagesåˆ†æ”¯ï¼Œæ‰€ä»¥æ˜¯ä»¥gh-pagesåˆ†æ”¯ä½œä¸ºæºæ–‡ä»¶  </p>
<h1><a class="header" href="#æ’å›¾" id="æ’å›¾">æ’å›¾</a></h1>
<p>æœ‰å¤šç§æ–¹å¼ç”Ÿæˆæˆ‘ä»¬æ‰€éœ€è¦çš„å›¾ï¼Œ1ã€graphviz 2ã€drawio</p>
<p>ç¬¬ä¸€ç§æ–¹å¼æ˜¯ä»¥ä»£ç çš„å½¢å¼å­˜å‚¨ï¼Œç¬¬äºŒç§æ–¹å¼æ˜¯ä»¥å›¾å½¢åŒ–ã€äº¤äº’å¼çš„æ–¹å¼è¿›è¡Œï¼Œ.drawio-&gt;.svg</p>
<p>ç®€è¦é’ˆå¯¹ç¬¬ä¸€ç§æ–¹å¼è¿›è¡Œè®²è§£<br />
Graphvizæ˜¯ä¸€ä¸ªåº•å±‚å›¾å½¢å¯è§†è½¯ä»¶ï¼Œé€šè¿‡å‘½ä»¤è¡Œå’Œç¼–ç¨‹æ¥å£æ¥ç”Ÿæˆå›¾è¡¨ï¼Œé€šè¿‡è§£æDOTè¯­è¨€ï¼Œè‡ªåŠ¨å¸ƒå±€ç»˜åˆ¶å›¾ï¼Œè€Œç›´æ¥å†™DOTè¯­è¨€ä¼šæ¯”è¾ƒå›°éš¾ï¼Œæ‰€ä»¥æœ‰äººå°†DOTæ¥å£è¿›è¡Œä¼˜åŒ–å°è£…ï¼Œå³pydotï¼Œæˆ‘ä»¬é€šè¿‡æ‰§è¡Œpythonè„šæœ¬ï¼Œè‡ªåŠ¨ç”Ÿæˆ.dotï¼Œåˆç”±Graphvizå°†.dotè§£ææˆ.svgç­‰å›¾ç‰‡æ ¼å¼</p>
<p>æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ä¸“æ³¨äºpydotï¼Œpydotä¸­æœ‰ä¸‰ä¸ªä¸»è¦çš„ç±»nodeã€Subgraphã€Graph<br />
1ã€nodeæ˜¯pydotæœ€åŸºæœ¬çš„å…ƒç´ ï¼Œè¡¨ç¤ºä¸€ä¸ªç‹¬ç«‹çš„å®ä½“ï¼Œå…¶ä¸­ä¸èƒ½åŒ…å«å…¶ä»–çš„èŠ‚ç‚¹ï¼Œéœ€è¦åŠ å…¥åˆ°Graph/SubGraphä¸­ï¼Œå¦åˆ™ä¸ä¼šæ˜¾ç¤ºåœ¨æœ€ç»ˆçš„å›¾ä¸­<br />
2ã€Subgraphå­å›¾æ˜¯ä¸€ç»„èŠ‚ç‚¹çš„é›†åˆï¼Œå…¶æœ¬èº«ä¸æ˜¯èŠ‚ç‚¹ï¼Œå¯ä»¥åŒ…å«å¤šä¸ª Nodeï¼Œå¹¶ä¸”å¯ä»¥ç”¨è¾¹è¿æ¥èŠ‚ç‚¹<br />
3ã€Graphæ˜¯æ•´ä¸ªå›¾ï¼Œæ˜¯æœ€ç»ˆçš„å¯è§†åŒ–å¯¹è±¡ã€‚æ˜¯æœ€é«˜çº§çš„å®¹å™¨ï¼Œå¯ä»¥åŒ…å«ï¼šèŠ‚ç‚¹ã€å­å›¾ã€è¾¹ï¼Œåªæœ‰Graphã€DiGraphå¯¹è±¡å¯ä»¥è¢«write_png()  write_svg()è¾“å‡ºä¸ºæœ€ç»ˆå›¾åƒ</p>
<p>é‚£ä¹ˆåœ¨pydotä¸­å°±æ˜¯åˆ›å»ºè¿™äº›ç±»ï¼Œç„¶åå°†nodeã€Subgraphã€Graphè¿æ¥èµ·æ¥å°±æ„æˆäº†å›¾ï¼Œç„¶åæ ¹æ®ä¸åŒçš„éœ€æ±‚ï¼Œç”¨ä¸åŒçš„å¸ƒå±€å¼•æ“æ¥ä½¿ç”¨ä¸åŒçš„å›¾å½¢æ’ç‰ˆï¼Œå¦‚ä¸‹æ‰€ç¤º<br />
<code>dot -Tpng example.dot -o example_dot.png</code><br />
<code>fdp -Tpng example.dot -o example_fdp.png</code><br />
<img src="./images/4.png" alt="" /></p>
<p>ä»ç†è§£å±‚é¢ï¼Œæ’é™¤æ‰è¾¹ï¼Œå°±å¯ä»¥æŠŠGraphç†è§£ä¸ºæ ¹ï¼ŒSubgraphç†è§£ä¸ºéå¶å­èŠ‚ç‚¹ï¼Œnodeå°±æ˜¯å¶å­èŠ‚ç‚¹</p>
<pre><code class="language-python"># Dotå°±æ˜¯ä¸»å›¾ï¼ŒEdgeç”¨äºè¿çº¿ï¼ŒNodeå°±æ˜¯èŠ‚ç‚¹ï¼ŒSubgraphå°±æ˜¯å­å›¾
from pydot import Dot, Edge, Node, Subgraph

# åˆ›å»ºä¸€ä¸ªç©ºçš„æœ‰å‘å›¾
graph = pydot.Dot(graph_type=&quot;digraph&quot;)

# åˆ›å»ºèŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹åœ¨DOTè¯­è¨€ä¸­çš„å”¯ä¸€IDä¸ºmsi_device_0ï¼Œå…¶ä¸­æ–‡å­—æ˜¾ç¤ºä¸ºMSI Device0
msi = Node(&quot;msi_device_0&quot;, label=&quot;MSI Device0&quot;)

# åˆ›å»ºä¸€ä¸ªå­å›¾
subgraph = pydot.Subgraph(&quot;cluster_1&quot;)
</code></pre>
<pre><code class="language-python"># main.py
from arch_common import *

###############################################################################
# Graph
###############################################################################
graph = AIADot(label=&quot;Configuration Paths in an AIA System&quot;, rankdir=&quot;RL&quot;)
configure = graph.main

###############################################################################
# Nodes and Subgraphs
###############################################################################
configure.add_subgraph(aplic)
configure.add_node(bus_network)
for imsic_hart in imsic_harts:
  configure.add_subgraph(imsic_hart)

###############################################################################
# Edges
###############################################################################
for domain in aplic.domains:
  configure.add_edge(MessageEdge(bus_network, domain))
for imsic_hart in imsic_harts:
  imsic = imsic_hart.imsic
  hart = imsic_hart.hart
  for intFile in imsic.intFiles:
    configure.add_edge(WireEdge(hart, intFile))
    configure.add_edge(Edge(intFile, bus_network, color=&quot;transparent&quot;))
  configure.add_edge(MessageEdge(hart, bus_network))

###############################################################################
# Output
###############################################################################
graph.write(__file__.replace(&quot;_dot.py&quot;, &quot;_py.dot&quot;))
</code></pre>
<pre><code class="language-python"># arch_common.py
from pydot import Dot, Edge, Node, Subgraph

###############################################################################
# Nodes and Subgraphs
###############################################################################
msi_devices = [
  Node(&quot;msi_device_0&quot;, label=&quot;MSI Device 0&quot;),
  Node(&quot;msi_device_1&quot;, label=&quot;MSI Device 1&quot;),
  Node(&quot;msi_device__&quot;, label=&quot;MSI Device ...&quot;),
]

class APLIC(Subgraph):
  def __init__(self):
    Subgraph.__init__(self, &quot;aplic&quot;, label=&quot;APLIC&quot;, cluster=True,
      style='filled', bgcolor=&quot;#F8CECC&quot;, pencolor=&quot;#B85450&quot;,
    )
    self.domains = [
      Node(&quot;m_domain&quot;, label=&quot;M Domain&quot;, height=1.5),
      Node(&quot;s_domain&quot;, label=&quot;S Domain&quot;, height=1.5),
    ]
    for domain in self.domains:
      self.add_node(domain)
aplic = APLIC()

wired_devices = [
  Node(&quot;wired_device_0&quot;, label=&quot;Wired Device 0&quot;),
  Node(&quot;wired_device_1&quot;, label=&quot;Wired Device 1&quot;),
  Node(&quot;wired_device__&quot;, label=&quot;Wired Device ...&quot;),
]

bus_network = Node(&quot;bus_network&quot;, label=&quot;Bus&quot;, height=7)

class IMSICHart(Subgraph):
  def __init__(self, id, suffix):
    Subgraph.__init__(self, f&quot;imsic_hart_{suffix}&quot;, label=&quot;&quot;, cluster=True,
      pencolor=&quot;transparent&quot;,
    )
    self.imsic = self.IMSIC(id, suffix)
    self.add_subgraph(self.imsic)
    self.hart = Node(f&quot;hart_{suffix}&quot;, label=f&quot;Hart {id}&quot;, height=3.2)
    self.add_node(self.hart)
    
  class IMSIC(Subgraph):
    def __init__(self, id, suffix):
      Subgraph.__init__(self, f&quot;imsic_{suffix}&quot;, label=f&quot;IMSIC {id}&quot;, cluster=True,
        style=&quot;filled&quot;, bgcolor=&quot;#F8CECC&quot;, pencolor=&quot;#B85450&quot;,
      )
      self.intFiles = [
        Node(f&quot;imsic_{suffix}_mint_file&quot;, label=&quot;M IntFile&quot;),
        Node(f&quot;imsic_{suffix}_sint_file&quot;, label=&quot;S IntFile&quot;),
      ]
      self.intFiles += [
        Node(f&quot;imsic_{suffix}_vsint_file_0&quot;, label=f&quot;VS IntFile 0&quot;),
        Node(f&quot;imsic_{suffix}_vsint_file__&quot;, label=f&quot;VS IntFile ...&quot;),
      ]
      for intFile in self.intFiles:
        self.add_node(intFile)

imsic_harts = [IMSICHart(0, 0), IMSICHart(&quot;...&quot;, &quot;_&quot;)]

###############################################################################
# Edges
###############################################################################
class MessageEdge(Edge):
  def __init__(self, src, dst, obj_dict=None, **attrs):
    Edge.__init__(self, src, dst, obj_dict, **attrs, color='&quot;black:invis:black&quot;')
class WireEdge(Edge):
  def __init__(self, src, dst, obj_dict=None, **attrs):
    Edge.__init__(self, src, dst, obj_dict, **attrs)

###############################################################################
# Graph
###############################################################################
class AIADot(Dot):
  class Legend(Subgraph):
    def __init__(self):
      Subgraph.__init__(self, &quot;legend&quot;, label=&quot;Legend&quot;, cluster=True, pencolor=&quot;gray&quot;)
    def add_edge_legend(self, EdgeClass, label):
      src = Node(f&quot;legend_${label}_edge_src&quot;, shape=&quot;plain&quot;, label=label)
      self.add_node(src)
      dst = Node(f&quot;legend_${label}_edge_dst&quot;, shape=&quot;plain&quot;, label=&quot; &quot;)
      self.add_node(dst)
      self.add_edge(EdgeClass(src, dst))

  def __init__(self, *argsl, **argsd):
    Dot.__init__(self, *argsl, **argsd,
      splines=&quot;ortho&quot;,
      bgcolor=&quot;transparent&quot;,
    )
    self.main = Subgraph(&quot;main&quot;, label=&quot;&quot;, cluster=True, pencolor=&quot;transparent&quot;)
    self.main.set_node_defaults(shape=&quot;box&quot;)
    self.add_subgraph(self.main)
    self.legend = self.Legend()
    self.add_subgraph(self.legend)
    self.legend.add_edge_legend(WireEdge, &quot;wire&quot;)
    self.legend.add_edge_legend(MessageEdge, &quot;message&quot;)

</code></pre>
<p>æ­¤æ—¶python main.pyå³å¯ç”Ÿæˆ.dotï¼Œç„¶åç”¨å‰é¢è¯´çš„å¸ƒå±€å¼•æ“å³å¯ç”Ÿæˆå›¾ç‰‡ï¼Œä¸Šä¾‹ç”Ÿæˆçš„å›¾ç‰‡å¦‚ä¸‹å›¾æ‰€ç¤º<br />
<img src="./images/5.png" alt="" />  </p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>
        
        

    </body>
</html>
